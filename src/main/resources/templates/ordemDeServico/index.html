<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head th:include="layout :: htmlhead">
	<link rel="stylesheet" th:href="@{/css/layout.css}" />
<body style="background-image:url(/pictures/background-site.jpg);">
	
		<div class="container" style="margin-top: 70px; box-shadow: 2px 0px 2px 0px;">
		<div class="card" style="background-color: #f1f1f1">
 		<h3 class="card-title text-center" style="color:#4b4e52e8">Ordem De Serviço</h3>
 		
 		<div class="card-body" >
		 	<header>
			<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    			<img src="pictures/logo.png" width="150" heigth="400">
    			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" 
    				aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
    			  	<span class="navbar-toggler-icon"></span>
  				  </button>
  			 <div class="collapse navbar-collapse" id="navbarCollapse">
    			<ul class="navbar-nav mr-auto">
       			 <li class="nav-item active">
          		<a class="nav-link" href="/#">Home <span class="sr-only">(current)</span></a>
       			 </li>
         		<li class="nav-item"></li>
        		<li class="nav-item dropdown">
        		<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          						Usuários
        		</a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="/cliente">Cliente</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/profissional">Profissional</a>
        </div>
      </li>
      
      	<li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Outros
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <a class="dropdown-item" href="/localServico">Local Serviço</a>
          <a class="dropdown-item" href="/tipoServico">Tipo de Serviço</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/tipoPagamento">Tipo de Pagamento</a>
          <div class="dropdown-divider"></div>
          <a class="dropdown-item" href="/tipoProfissional">Tipo de Profissional</a>
          </div>
      </li>
        
        
      </ul>
      <form class="form-inline mt-2 mt-md-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
    
  </nav>
</header>

	<body>
		<div class="container">
			<a href="form.html" th:href="@{/ordemDeServico/novo}" class="btn btn-primary btn-lg" role="button">Novo</a>
 			<div class="border border-dark">
				<table class="table">
					<thead class="thead-light"> 
						<tr>
							<th scope="col">Cliente</th>
							<th scope="col">Profissional</th>
							<th scope="col">Data Inicio</th>
							<th scope="col">Data Fim</th>
							<th scope="col"></th>
						</tr>
					</thead>
					<tbody>
						<tr scope="row" th:each="umaOrdemDeServico : ${listaOrdemDeServico}">
							<td th:text="${umaOrdemDeServico.cliente.nomeCliente}"></td>
							<td th:text="${umaOrdemDeServico.profissional.nomeProfissional}"></td>
							<td th:text="${#dates.format(umaOrdemDeServico.dataInicio, 'dd/MM/yyyy HH:mm')}"></td>
							<td th:text="${#dates.format(umaOrdemDeServico.dataFim, 'dd/MM/yyyy HH:mm')}"></td>
							<td>
								<a href="form.html" th:href="@{'/ordemDeServico/alterar/' + ${umaOrdemDeServico.id}}" class="btn btn-secondary btn-lg" role="button">Alterar</a>
								<a href="#" class="btn btn-warning btn-lg" role="button" data-toggle="modal" data-target="#confirmaExclusao" th:data-id="${umaOrdemDeServico.id}">Excluir</a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="modal fade" id="confirmaExclusao" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			    <div class="modal-dialog" role="document">
			        <div class="modal-content">
			            <div class="modal-header">
			                <h5 class="modal-title">Confirmação de exclusão</h5>
			                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			                    <span aria-hidden="true">X</span>
			                </button>
			            </div>
			            <div class="modal-body">
			                <p>Confirma a exclusão desta Ordem de Serviço?</p>
			            </div>
			            <div class="modal-footer">
			            	<a href="#" class="btn btn-warning btn-lg" id="btnConf" role="button">Sim</a>
			                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
			            </div>
			        </div>
			    </div>
			</div>
		</div>
	</body>
<footer class="container">
    <p class="float-right"><a href="#">Back to top</a></p>
    <p>&copy;2017-2019 Company, Inc. � <a href="https://getbootstrap.com/docs/4.3/examples/carousel/#">Privacy</a> � <a href="https://getbootstrap.com/docs/4.3/examples/carousel/#">Terms</a></p>
  </footer>
<script type="text/javascript">
$(document).ready(function() {
    $('.dropdown-toggle').dropdown()
});
</script>